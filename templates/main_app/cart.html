<!-- cart.html -->

{% extends 'base.html' %}

{% block content %}
    <table class="table">
        <thead>
        <tr>
            <th scope="col">Product Name</th>
            <th scope="col">Price</th>
            <th scope="col">Quantity</th>
            <th scope="col">Total</th>
        </tr>
        </thead>
        <tbody>
        {% for item in individual_items %}
            <tr>
                <th>{{ item.product_name }}</th>
                <td>{{ item.price }}</td>
                <td>{{ item.quantity }}x</td>
                <td>Rs. {{ item.total }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <h4>Cart Total: {{ cart_total_price }}</h4>
{#    discount show#}
    {% if discount %}
        <h4>Discount: {{ discount }}</h4>
    {% endif %}
    <hr>
    {% if cart_total_price > 0 %}
        <a role="button" class="btn btn-danger" href="{% url 'main_app:clear-cart' %}">Clear Cart</a>
        <form method="get" action="{% url 'main_app:checkout' %}">
{#        bootstrap address field#}
            <div class="form-group">
                <label for="address">Address</label>
                <input type="text" class="form-control" id="address" name="address" placeholder="Enter Address" required>
            </div>
            <button type="submit" class="btn btn-primary my-1">Checkout</button>
        </form>
    {% endif %}
{% endblock %}
